<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>oserioCN Wechat Front-end API by PeacePan</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-dark.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>
      <div id="header">
        <nav>
          <li class="fork"><a href="https://github.com/PeacePan/oserioCN-wechat-front-end-api">View On GitHub</a></li>
          <li class="downloads"><a href="https://github.com/PeacePan/oserioCN-wechat-front-end-api/zipball/master">ZIP</a></li>
          <li class="downloads"><a href="https://github.com/PeacePan/oserioCN-wechat-front-end-api/tarball/master">TAR</a></li>
          <li class="title">DOWNLOADS</li>
        </nav>
      </div><!-- end header -->

    <div class="wrapper">

      <section>
        <div id="title">
          <h1>oserioCN Wechat Front-end API</h1>
          <p>Front-end API for china oserio wechat project</p>
          <hr>
          <span class="credits left">Project maintained by <a href="https://github.com/PeacePan">PeacePan</a></span>
          <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></span>
        </div>

        <h1>
<a id="wechat-app-front-end-api-for-china-oserio-project" class="anchor" href="#wechat-app-front-end-api-for-china-oserio-project" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Wechat App Front-end API for china oserio project</h1>

<h1></h1>

<h1>
<a id="version" class="anchor" href="#version" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Version</h1>

<p>1.0.0</p>

<h1>
<a id="api" class="anchor" href="#api" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>API</h1>

<h2>
<a id="request" class="anchor" href="#request" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>request</h2>

<ul>
<li><a href="#getJsConfigSign">getJsConfigSign</a></li>
<li><a href="#getOAuthToken">getOAuthToken</a></li>
<li><a href="#getUserInfo">getUserInfo</a></li>
<li><a href="#setUserInfo">setUserInfo</a></li>
<li><a href="#getBodyInfo">getBodyInfo</a></li>
<li><a href="#getDeviceList">getDeviceList</a></li>
<li><a href="#unbindDevice">unbindDevice</a></li>
</ul>

<h1></h1>

<h2>
<a id="getjsconfigsign" class="anchor" href="#getjsconfigsign" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>getJsConfigSign</h2>

<p>前端網頁傳送網頁URL給後端伺服器，要求生成啟用JSSDK所需的簽名。</p>

<h3>
<a id="method" class="anchor" href="#method" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>method</h3>

<p><strong>POST</strong></p>

<p>POST <code>/front-end-api/jssdk?action=getJsConfigSign</code></p>

<h4>
<a id="post-parameters" class="anchor" href="#post-parameters" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>POST parameters</h4>

<pre><code>{
    url: "http://host.domain.name/webpage"
}
</code></pre>

<h3>
<a id="json-response" class="anchor" href="#json-response" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JSON response</h3>

<pre><code>{
    appId: "wxe55f5egd8bd2d645",
    timestamp: "1458400688",
    nonceStr: "1282991227",
    signature: "e9e23a04136c5749063a4585a3150df58aec4bda"
}
</code></pre>

<h1></h1>

<h2>
<a id="getoauthtoken" class="anchor" href="#getoauthtoken" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>getOAuthToken</h2>

<p>向後台索取網頁授權的Access Token。</p>

<h3>
<a id="method-1" class="anchor" href="#method-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>method</h3>

<p><strong>POST</strong></p>

<p>POST <code>/front-end-api/jssdk?action=getOAuthToken</code></p>

<h4>
<a id="post-parameters-1" class="anchor" href="#post-parameters-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>POST parameters</h4>

<pre><code>{
    code: "01167eda5f5f5d78eb252060f961c8fr",
    state: "STATE"
}
</code></pre>

<h3>
<a id="json-response-1" class="anchor" href="#json-response-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JSON response</h3>

<pre><code>{
    access_token: "OezXcEiiBSKSxW0eoylIeD2sWDPK_-ckMgbY4OkprydHFprJ8kJFpQdaG2Ly2lJfaUpQJZyQ3AsxE5U-r76eaPa13GhTtZLzB9QytT9BESdhkB_UiSbW2QL8AFa785bus_gJvsNc89DDXVkKkI-7XA"
    expires_in: 7200
    openid: "omBJDwkHA_mgH4qJmkFYThuksEj4"
    refresh_token: "OezXcEiiBSKSxW0eoylIeD2sWDPK_-ckMgbY4OkprydHFprJ8kJFpQdaG2Ly2lJfbsc9jWHAirK0PYAkiaglew43vg88GyqZv10Otp1PUrdEtUsb-MWcyx6FiK8va9euVvGWZSNnMWNJ5WE6cxVJoQ"
    scope: "snsapi_base"
}
</code></pre>

<h1></h1>

<h2>
<a id="getuserinfo" class="anchor" href="#getuserinfo" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>getUserInfo</h2>

<p>要求取得當前使用者的使用者資料，後端伺服器使用網頁授權後取得的Access Token提取使用者資料</p>

<h3>
<a id="method-2" class="anchor" href="#method-2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>method</h3>

<p><strong>POST</strong></p>

<p>POST <code>/front-end-api/user?action=getUserInfo</code></p>

<h4>
<a id="post-parameters-2" class="anchor" href="#post-parameters-2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>POST parameters</h4>

<pre><code>{
    access_token: "OezXcEiiBSKSxW0eoylIeD2sWDPK_-ckMgbY4OkprydHFprJ8kJFpQdaG2Ly2lJfaUpQJZyQ3AsxE5U-r76eaPa13GhTtZLzB9QytT9BESdhkB_UiSbW2QL8AFa785bus_gJvsNc89DDXVkKkI-7XA",
    openid: "omBJDwkHA_mgH4qJmkFYThuksEj4",
    lang: "zh-TW"
}
</code></pre>

<h3>
<a id="json-response-2" class="anchor" href="#json-response-2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JSON response</h3>

<pre><code>{
    city: "",
    country: "Taiwan",
    headimgurl: "http://wx.qlogo.cn/mmopen/ajNVdqHZLLBo6NCxAg7dj0N3UtrMF5dtm4jG5d4kXEf13J3A9Tk528nD3Tgp7urXxPaV7QjaicH0WsdUgPUjh2Mc6aBpzELJTM00UA5b2pHo/0",
    language: "zh_TW",
    nickname: "潘銘和",
    openid: "omBJDwkHA_mgH4qJmkFYThuksEj4",
    privilege: [],
    province: "Taichung City",
    sex: 1
}
</code></pre>

<h1></h1>

<h2>
<a id="setuserinfo" class="anchor" href="#setuserinfo" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>setUserInfo</h2>

<p>儲存使用者的使用者資訊至後端伺服器儲存(身高、目標體重等其他設定)</p>

<h3>
<a id="method-3" class="anchor" href="#method-3" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>method</h3>

<p><strong>POST</strong></p>

<p>POST <code>/front-end-api/user?action=setUserInfo</code></p>

<h4>
<a id="post-parameters-3" class="anchor" href="#post-parameters-3" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>POST parameters</h4>

<pre><code>{
    openid: "omBJDwkHA_mgH4qJmkFYThuksEj4",
    nickname: "潘銘和",
    sex: 1,
    birthday: "1970-01-01"
    height: 172.5,
    goal_weight: "60.5"
}
</code></pre>

<h3>
<a id="json-response-3" class="anchor" href="#json-response-3" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JSON response</h3>

<pre><code>{}
</code></pre>

<h1></h1>

<h2>
<a id="getbodyinfo" class="anchor" href="#getbodyinfo" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>getBodyInfo</h2>

<p>取得使用者的所有身體資訊清單</p>

<h3>
<a id="method-4" class="anchor" href="#method-4" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>method</h3>

<p><strong>POST</strong></p>

<p>POST <code>/front-end-api/user?action=getBodyInfo</code></p>

<h4>
<a id="post-parameters-4" class="anchor" href="#post-parameters-4" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>POST parameters</h4>

<pre><code>{
    openid: "omBJDwkHA_mgH4qJmkFYThuksEj4"
}
</code></pre>

<h3>
<a id="json-response-4" class="anchor" href="#json-response-4" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JSON response</h3>

<pre><code>{
    data: [{
        date: "2016-01-01",
        time: "12:03:45",
        weight: 65.2,
        bodyfat: 15.6,
    }, {
        date: "2016-01-02",
        time: "11:12:36",
        weight: 55.2,
        bodyfat: 14.3
    }]
}
</code></pre>

<h1></h1>

<h2>
<a id="getdevicelist" class="anchor" href="#getdevicelist" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>getDeviceList</h2>

<p>取得使用者已綁定的裝置清單</p>

<h3>
<a id="method-5" class="anchor" href="#method-5" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>method</h3>

<p><strong>POST</strong></p>

<p>POST <code>/front-end-api/device?action=getDeviceList</code></p>

<h4>
<a id="post-parameters-5" class="anchor" href="#post-parameters-5" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>POST parameters</h4>

<pre><code>{
    openid: "omBJDwkHA_mgH4qJmkFYThuksEj4"
}
</code></pre>

<h3>
<a id="json-response-5" class="anchor" href="#json-response-5" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JSON response</h3>

<pre><code>{
    待補
}
</code></pre>

<h1></h1>

<h2>
<a id="unbinddevice" class="anchor" href="#unbinddevice" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>unbindDevice</h2>

<p>使用者解除綁定的裝置</p>

<h3>
<a id="method-6" class="anchor" href="#method-6" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>method</h3>

<p><strong>DELETE</strong></p>

<p>DELETE <code>/front-end-api/device?action=unbindDevice</code></p>

<h4>
<a id="post-parameters-6" class="anchor" href="#post-parameters-6" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>POST parameters</h4>

<pre><code>{
    待補
}
</code></pre>

<h3>
<a id="json-response-6" class="anchor" href="#json-response-6" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JSON response</h3>

<pre><code>{
    待補
}
</code></pre>
      </section>

    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>
